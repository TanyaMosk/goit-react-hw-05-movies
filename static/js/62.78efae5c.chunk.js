"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[62],{62:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r=t(165),a=t(861),s=t(439),i=t(791),c=t(689),o=t(390),u=t(87),p=t(2);function l(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function d(e){l(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,p.Z)(e)&&"[object Date]"===n?new Date(e.getTime()):"number"===typeof e||"[object Number]"===n?new Date(e):("string"!==typeof e&&"[object String]"!==n||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}var h,f,x,m,v,g,Z,j=function(e){var n=function(e){return l(1,arguments),d(e).getFullYear()}(new Date(e));return n},b=t(168),w=t(867),y=w.zo.section(h||(h=(0,b.Z)(["\npadding: 20px 40px;\n"]))),k=w.zo.div(f||(f=(0,b.Z)(["\ndisplay: flex;\ngap: 30px;\nmargin-top: 20px;\npadding-bottom: 10px;\nborder-bottom: 1px solid black;\n"]))),S=w.zo.img(x||(x=(0,b.Z)(["\n\n"]))),U=w.zo.span(m||(m=(0,b.Z)(["\nmargin-right: 6px;\n"]))),_=w.zo.div(v||(v=(0,b.Z)(["\npadding: 20px;\nborder-bottom: 1px solid black;\n"]))),z=w.zo.ul(g||(g=(0,b.Z)(["\ndisplay: flex;\nflex-direction: column;\ngap: 8px;\n"]))),D=w.zo.div(Z||(Z=(0,b.Z)(["\nmargin: 50px;\n\n"]))),R=t(184),F=function(e){var n,t,r,a=e.movie,s=e.noResults,o=(0,c.TH)(),p=(0,i.useRef)(null!==(n=null===(t=o.state)||void 0===t?void 0:t.from)&&void 0!==n?n:"/movie"),l=a.title,d=a.poster_path,h=a.release_date,f=a.vote_average,x=a.overview,m=a.genres;return(0,R.jsxs)(y,{children:[(0,R.jsx)("div",{children:"/movie"!==p.current?(0,R.jsx)(u.rU,{to:p.current,children:" \u2190Go back"}):(0,R.jsx)(u.rU,{to:"/",children:"\u2190Go back"})}),s?(0,R.jsx)(c.Fg,{to:"/"}):null,(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(k,{children:[(0,R.jsx)("div",{children:(0,R.jsx)(S,{src:d?"https://image.tmdb.org/t/p/w342/".concat(d):"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg",alt:l})}),(0,R.jsxs)("div",{children:[h?(0,R.jsxs)("h2",{children:[l,"  (",j(h),")"]}):(0,R.jsx)("h2",{children:l}),f?(0,R.jsxs)("p",{children:["User Score: ",(r=f,(10*r).toFixed(0))," %"]}):(0,R.jsxs)("p",{children:["User Score: ",f]}),(0,R.jsx)("h3",{children:"Overview"}),(0,R.jsx)("span",{children:x}),(0,R.jsx)("h3",{children:"Genres"}),m&&m.map((function(e){var n=e.id,t=e.name;return(0,R.jsxs)(U,{children:[" ",t]},n)}))]})]}),(0,R.jsxs)(_,{children:[(0,R.jsx)("h2",{children:"Additional Information"}),(0,R.jsxs)(z,{children:[(0,R.jsx)("li",{children:(0,R.jsx)(u.rU,{to:"cast",children:"Cast"})}),(0,R.jsx)("li",{children:(0,R.jsx)(u.rU,{to:"reviews",children:"Reviews"})})]})]})]}),(0,R.jsx)(i.Suspense,{fallback:(0,R.jsx)(D,{children:"Loading..."}),children:(0,R.jsx)(c.j3,{})})]})},G=function(){var e=(0,c.UO)().movieId,n=(0,i.useState)([]),t=(0,s.Z)(n,2),u=t[0],p=t[1],l=(0,i.useState)(),d=(0,s.Z)(l,2),h=d[0],f=d[1];return(0,i.useEffect)((function(){function n(){return n=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Mc)(n);case 3:t=e.sent,p(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),f(!0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.apply(this,arguments)}!function(e){n.apply(this,arguments)}(e)}),[e]),(0,R.jsx)("main",{children:(0,R.jsx)(F,{movie:u,noResults:h})})}},390:function(e,n,t){t.d(n,{Mc:function(){return p},Tg:function(){return o},cg:function(){return m},eH:function(){return d},oJ:function(){return f}});var r=t(165),a=t(413),s=t(861),i=t(243);i.Z.defaults.baseURL="https://api.themoviedb.org/3";var c={api_key:"52a05da305441484ac0612c66e97b178",language:"en-US"};function o(){return u.apply(this,arguments)}function u(){return(u=(0,s.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/trending/all/day",{params:(0,a.Z)({},c)});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return(l=(0,s.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/movie/".concat(n),{params:(0,a.Z)({},c)});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return(h=(0,s.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/movie/".concat(n,"/credits"),{params:(0,a.Z)({},c)});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return x.apply(this,arguments)}function x(){return(x=(0,s.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/movie/".concat(n,"/reviews"),{params:(0,a.Z)({},c)});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,n){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)((0,r.Z)().mark((function e(n,t){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/search/movie",{params:(0,a.Z)((0,a.Z)({},c),{},{query:n,page:t})});case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=62.78efae5c.chunk.js.map